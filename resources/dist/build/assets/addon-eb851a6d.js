function p(a,e,r,t,o,c,i,d){var s=typeof a=="function"?a.options:a;e&&(s.render=e,s.staticRenderFns=r,s._compiled=!0),t&&(s.functional=!0),c&&(s._scopeId="data-v-"+c);var l;if(i?(l=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!n&&typeof __VUE_SSR_CONTEXT__<"u"&&(n=__VUE_SSR_CONTEXT__),o&&o.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(i)},s._ssrRegister=l):o&&(l=d?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(s.functional){s._injectStyles=l;var u=s.render;s.render=function(m,f){return l.call(f),u(m,f)}}else{var h=s.beforeCreate;s.beforeCreate=h?[].concat(h,l):[l]}return{exports:a,options:s}}const _={mixins:[Fieldtype],data(){return{selectedTerms:{},termData:{},searchQuery:null}},computed:{filteredTerms(){if(!this.searchQuery)return this.meta.terms;const a=this.searchQuery.toLowerCase();return this.meta.terms.filter(e=>e.title.toLowerCase().includes(a))}},created(){this.value!==null&&this.value.forEach(a=>{this.selectedTerms[a.term]=!0,this.termData[a.term]=a.data})},methods:{updateValue(){const a=Object.keys(this.selectedTerms).filter(e=>this.selectedTerms[e]).map(e=>({term:e,data:this.termData[e]||null}));this.update(a)}}};var v=function(){var e=this,r=e._self._c;return r("div",{staticClass:"flex flex-col gap-2"},[r("div",{staticClass:"relative"},[r("text-input",{attrs:{placeholder:"Type to search..."},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),e.searchQuery!=null?r("button",{staticClass:"absolute right-0 top-0 h-full w-10 flex items-center justify-center text-gray-700",attrs:{"aria-label":"Clear search"},on:{click:function(t){e.searchQuery=null}}},[r("svg",{staticClass:"feather feather-x",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M18 6 6 18M6 6l12 12"}})])]):e._e()],1),e._l(e.filteredTerms,function(t,o){return r("div",{key:o,staticClass:"flex border border-gray-300 p-2 gap-4 rounded-md"},[r("label",{staticClass:"flex gap-2 items-center w-1/2 hover:cursor-pointer"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedTerms[t.slug],expression:"selectedTerms[term.slug]"}],attrs:{type:"checkbox"},domProps:{value:t.slug,checked:Array.isArray(e.selectedTerms[t.slug])?e._i(e.selectedTerms[t.slug],t.slug)>-1:e.selectedTerms[t.slug]},on:{change:[function(c){var i=e.selectedTerms[t.slug],d=c.target,s=!!d.checked;if(Array.isArray(i)){var l=t.slug,u=e._i(i,l);d.checked?u<0&&e.$set(e.selectedTerms,t.slug,i.concat([l])):u>-1&&e.$set(e.selectedTerms,t.slug,i.slice(0,u).concat(i.slice(u+1)))}else e.$set(e.selectedTerms,t.slug,s)},e.updateValue]}}),r("span",{domProps:{textContent:e._s(t.title)}})]),r("text-input",{staticClass:"w-1/2",attrs:{placeholder:"Add data...",disabled:!e.selectedTerms[t.slug]},on:{input:e.updateValue},model:{value:e.termData[t.slug],callback:function(c){e.$set(e.termData,t.slug,c)},expression:"termData[term.slug]"}})],1)})],2)},g=[],y=p(_,v,g,!1,null,null,null,null);const T=y.exports;Statamic.booting(()=>{Statamic.component("taxonomy_metadata-fieldtype",T)});
